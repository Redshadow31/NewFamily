/* =========================================================
   Twitch Entraide – New Family · style.css (drop-in complet)
   Charte unifiée + cartes + boutons + responsive + dark mode
   ========================================================= */

/* --------- Variables de thème --------- */
:root{
  --bg: #f6f4fb;
  --surface: #ffffff;
  --text: #222;
  --muted: #666;
  --border: #ececf1;

  --brand: #e74c3c;          /* Rouge New Family */
  --brand-2: #845ec2;        /* Violet d’accent */
  --brand-3: #f1c40f;        /* Doré VIP */

  --shadow: 0 10px 30px rgba(0,0,0,.12);
  --radius: 16px;
}

@media (prefers-color-scheme: dark){
  :root{
    --bg: #0f1116;
    --surface: #151823;
    --text: #e7e7ea;
    --muted: #a3a3ad;
    --border: #232737;
    --shadow: 0 12px 34px rgba(0,0,0,.45);
  }
}

/* Mode sombre manuel (ajoute .theme-dark sur <html> pour forcer) */
html.theme-dark{
  --bg: #0f1116;
  --surface: #151823;
  --text: #e7e7ea;
  --muted: #a3a3ad;
  --border: #232737;
}

/* --------- Reset léger & base --------- */
*{ box-sizing: border-box; }
html, body{
  padding: 0; margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  line-height: 1.5;
  text-rendering: optimizeLegibility;
}
img{ max-width: 100%; height: auto; display: block; }
a{ color: inherit; }
section{
  max-width: 1200px;
  margin: 0 auto 2rem;
  padding: 0 .75rem;
}
h1,h2,h3{ margin: 0 0 .4em; }
p{ margin: 0 0 1em; }

/* --------- Header --------- */
header{
  background: linear-gradient(180deg, color-mix(in oklab, var(--brand) 18%, var(--surface)) 0%, var(--surface) 60%);
  border-bottom-left-radius: 28px;
  border-bottom-right-radius: 28px;
  box-shadow: var(--shadow);
  padding: 1.25rem .75rem 1.75rem;
}
.header-content{
  max-width: 1200px; margin: 0 auto;
  display: grid; align-items: center; gap: 1rem;
  grid-template-columns: 160px 1fr;
}
.header-logo img{
  width: 160px; height: auto;
  filter: drop-shadow(0 6px 16px rgba(0,0,0,.12));
}
.header-text h1{
  font-size: clamp(2rem, 1.1rem + 3vw, 3rem);
  line-height: 1.1; font-weight: 900; letter-spacing: .2px;
}
.header-text p{
  margin-top: .5rem; opacity: .95; color: var(--muted);
}

/* --------- Boutons principaux --------- */
.button-container{
  display: flex; flex-wrap: wrap;
  justify-content: center; gap: .8em;
  margin: .9em auto 1.2em;
  max-width: 1100px; padding: 0 .75rem;
}
.about-button,
.event-button,
.interview-button{
  --btn-bg: var(--brand);
  --btn-fg: #fff;
  background: var(--btn-bg);
  color: var(--btn-fg);
  padding: .85em 1.15em;
  border-radius: 12px;
  font-weight: 800;
  text-decoration: none;
  box-shadow: 0 6px 16px rgba(0,0,0,.18);
  transition: transform .18s ease, box-shadow .18s ease, background .18s ease;
  border: 1px solid rgba(255,255,255,.08);
  display: inline-flex; align-items: center; gap: .5ch;
}
.about-button:hover,
.event-button:hover,
.interview-button:hover{
  transform: translateY(-1px);
  box-shadow: 0 10px 22px rgba(0,0,0,.2);
  background: linear-gradient(180deg, var(--brand) 0%, var(--brand-2) 100%);
}
.about-button:focus-visible,
.event-button:focus-visible,
.interview-button:focus-visible{
  outline: 3px solid color-mix(in oklab, var(--brand) 40%, #fff);
  outline-offset: 2px;
}
/* Bouton VIP en doré */
a[href="vip.html"]{
  --btn-bg: var(--brand-3);
  color: #312a00;
}

/* --------- Titres de section --------- */
h2{
  text-align: center;
  margin: 2.2em 0 1.2em;
  font-weight: 900;
  letter-spacing: .2px;
}
#online h2, #offline h2{
  position: relative;
  display: inline-block;
  padding: .1rem .8rem;
  background: color-mix(in oklab, var(--brand) 14%, var(--surface));
  border-radius: 999px;
  border: 1px solid var(--border);
  box-shadow: 0 4px 14px rgba(0,0,0,.06);
}

/* --------- Comptage live --------- */
#live-count{
  text-align: center; font-weight: 800; font-size: 1.1rem;
  margin-bottom: .5rem;
}

/* --------- Grille utilisateurs --------- */
.user-grid{
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px,1fr));
  gap: 22px;
  padding: 1rem .75rem 2rem;
}

/* --------- Cartes streamers --------- */
.user-card{
  position: relative;
  background: var(--surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow: clip;
  transition: transform .22s ease, box-shadow .22s ease, border .22s ease, filter .22s ease, opacity .22s ease;
  border: 1px solid var(--border);
}
.user-card:hover{
  transform: translateY(-4px);
  box-shadow: 0 16px 40px rgba(0,0,0,.18);
}

/* Ruban LIVE (actif si .is-live sur la carte) */
.user-card::before{
  content: attr(data-live);
  position: absolute;
  top: 12px; left: 12px;
  font-size: .78rem; font-weight: 900; letter-spacing: .5px;
  color: #fff; background: #e11900;
  padding: .28rem .55rem; border-radius: 999px;
  box-shadow: 0 4px 10px rgba(225,25,0,.35);
  display: none;
}
.user-card.is-live::before{ display: inline-block; }

/* État offline (désaturation douce) */
.user-card.offline{ filter: grayscale(85%); opacity: .9; }

/* Media */
.user-card .media-wrap{ position: relative; overflow: clip; }
.user-card .media-wrap img{
  width: 100%; aspect-ratio: 16 / 9; object-fit: cover; display: block;
  transform: scale(1.001);
  transition: transform .35s ease;
}
.user-card:hover .media-wrap img{ transform: scale(1.045); }

/* Corps de carte */
.card-body{
  background: var(--surface);
  padding: 14px 16px 12px;
  border-top: 1px solid var(--border);
}
.username{
  font-weight: 900;
  font-size: 1.05em;
  margin: 0 0 4px;
  color: var(--text);
}
.title{
  font-size: .92em;
  color: var(--muted);
  line-height: 1.5em;
  margin: 0 0 10px;
}

/* Pied de carte */
.card-footer{
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: .86em;
  color: var(--muted);
}

/* CTA secondaires dans la carte */
.user-card .cta-row{
  display:flex; gap:.5rem; margin-top:.55rem; flex-wrap:wrap;
}
.user-card .cta-row a{
  --btn-bg: #f3f4f6; --btn-fg: #333;
  background: var(--btn-bg); color: var(--btn-fg);
  border: 1px solid #e8e8ef;
  padding: .6em .85em;
  border-radius: 10px;
  font-weight: 700; text-decoration: none;
  transition: background .18s ease, transform .18s ease, box-shadow .18s ease;
}
.user-card .cta-row a:hover{
  background: #ececf6;
  transform: translateY(-1px);
  box-shadow: 0 6px 16px rgba(0,0,0,.12);
}

/* Badges VIP */
.user-card .vip-badges{
  position:absolute; top:10px; left:10px; display:flex; gap:6px; z-index:2;
}
.user-card .vip-badge{
  background:#ffffffdd; backdrop-filter: blur(4px);
  border: 1px solid rgba(0,0,0,.06);
  border-radius: 999px; padding: .25rem .5rem;
  font-size: .78rem; font-weight: 800; color:#333;
  box-shadow: 0 2px 8px rgba(0,0,0,.12);
}

/* --------- Clips / vidéos --------- */
.twitch-clip{
  border-radius: 14px;
  overflow: clip;
  box-shadow: var(--shadow);
  border: 1px solid var(--border);
}
.twitch-clip img{ display:block; }

/* --------- Sections spécifiques --------- */
#online, #offline{
  background: transparent;
}

/* --------- Utilitaires --------- */
.hidden{ display: none !important; }

/* --------- Responsive --------- */
@media (max-width: 900px){
  .header-content{
    grid-template-columns: 120px 1fr;
    gap: .75rem;
  }
  .header-logo img{ width: 120px; }
}
@media (max-width: 768px){
  .header-text h1{ font-size: 2.1rem; }
  .button-container{ gap: .6em; }
}
@media (max-width: 520px){
  .header-content{
    grid-template-columns: 1fr; text-align: center;
  }
  .header-logo{ display: flex; justify-content: center; }
  .header-text p{ margin-left: auto; margin-right: auto; max-width: 34ch; }
}
.aventura-box {
  padding: 2rem 1rem;
  background: var(--surface);
  border-radius: 1rem;
  max-width: 900px;
  margin: 2rem auto;
  box-shadow: var(--shadow);
  text-align: center;
}
.aventura-box h2 {
  font-size: 2rem;
  font-weight: bold;
  margin-bottom: 1rem;
}
.aventura-box p {
  font-size: 1.2rem;
  margin-bottom: 2rem;
  color: var(--muted);
}
